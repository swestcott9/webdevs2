 <!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>repl.it</title>
    
  </head>
  <body>
    <canvas id="gameCanvas" width="500" height="300"></canvas>
    

    <script>
      var c = document.getElementById("gameCanvas");
      var ctx = c.getContext("2d")
    
function animate() {
 
  // stuff for animating goes here
 
  requestAnimationFrame(animate);
}
animate();  
requestAnimationFrame-related lines highlighted:

var mainCanvas = document.getElementById("myCanvas");
var mainContext = mainCanvas.getContext('2d');
 
var canvasWidth = mainCanvas.width;
var canvasHeight = mainCanvas.height;
 
// this array contains a reference to every circle that you will create
var circles = new Array();
 
//
// The Circle "constructor" is responsible for creating the circle objects and defining the various properties
// they have
//
function Circle(angle, sign, radius, rotationRadius, initialX, initialY) {
    this.angle = angle;
    this.sign = sign;
    this.radius = radius;
    this.rotationRadius = rotationRadius;
    this.initialX = initialX;
    this.initialY = initialY;
    this.incrementer = .01 + Math.random() * .1;
}
 
Circle.prototype.update = function () {
 
    this.angle += this.incrementer;
     
    this.currentX = this.initialX + this.rotationRadius * Math.cos(this.angle);
    this.currentY = this.initialY + this.rotationRadius * Math.sin(this.angle);
     
    if (this.angle >= (Math.PI * 2)) {
        this.angle = 0;
        this.incrementer = .01 + Math.random() * .1;
    }
 
    // The following code is responsible for actually drawing the circle on the screen
    mainContext.beginPath();
    mainContext.arc(this.currentX, this.currentY, this.radius, 0, Math.PI * 2, false);
    mainContext.closePath();
    mainContext.fillStyle = 'rgba(177, 0, 129, .1)';
    mainContext.fill();
};
 
//
// This function creates the circles that you end up seeing
//
function createCircles() {
// change the range of this loop to adjust the number of circles that you see
    for (var i = 0; i < 50; i++) {
        var radius = 5 + Math.random() * 40;
        var initialX = canvasWidth / 2;
        var initialY = canvasHeight / 2;
        var rotationRadius = 1 + Math.random() * 30;
        var angle = Math.random() * 2 * Math.PI;
         
        var signHelper = Math.floor(Math.random() * 2);
        var sign;
         
        // Randomly specify whether the circle will be rotating clockwise or counterclockwise
        if (signHelper == 1) {
            sign = -1;
        } else {
            sign = 1;
        }
         
        // create the Circle object
        var circle = new Circle(angle, sign, radius, rotationRadius, initialX, initialY);
        circles.push(circle);
    }
     
    // call the draw function approximately 60 times a second
    requestAnimationFrame(draw);
}
createCircles();
 
function draw() {
    mainContext.clearRect(0, 0, canvasWidth, canvasHeight);
    mainContext.fillStyle = '#F6F6F6';
    mainContext.fillRect(0, 0, canvasWidth, canvasHeight);
     
    for (var i = 0; i < circles.length; i++) {
        var circle = circles[i];
        circle.update();
    }
     
    // call the draw function again!
    requestAnimationFrame(draw);
}
var framesPerSecond = 10;
 
function animate() {
    setTimeout(function() {
        requestAnimationFrame(animate);
 
        // animating/drawing code goes here
 
 
    }, 1000 / framesPerSecond);
}
var running = true;
 
function animate() {
    if (running) {
        // do animation or drawing stuff
         
    }
    requestAnimationFrame(animate);
    // store your requestAnimatFrame request ID value
var requestId;
 
// setting up a click event listener
var bodyElement = document.querySelector("body");
bodyElement.addEventListener("click", stopAnimation, false);
  
function animate() {
 
    // doing some animation stuff
     
    // get the requestID as part of calling animate()
    requestId = requestAnimationFrame(animate);
}
animate();
 
function stopAnimation(e) {
    // use the requestID to cancel the requestAnimationFrame call
    cancelAnimationFrame(requestId);
}
function draw(timeStamp) {
      .
      .
      .
    requestAnimationFrame(draw);
}
.
.
.
1390549443371.2961
1390549443442.2961
1390549443453.2961
1390549443489.2961
1390549443503.2961
1390549443520.2961
1390549443536.2961
1390549443554.296
1390549443569.2961
1390549443586.2961
1390549443604.2961
1390549443619.2961
1390549443636.2961
1390549443653.2961
1390549443670.2961
1390549443686.2961
1390549443704.2961
1390549443719.2961
1390549443736.2961
.
.
.
}
});
});

      
    </script>
  </body>
</html>